{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/juanj/OneDrive/Escritorio/P4/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/users.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../nav/nav.component\";\nexport class PublicacionesComponent {\n  constructor(userService, router, activatedRoute) {\n    this.userService = userService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.classes = 'row';\n    this.user = {\n      titulo: '',\n      contenido: '',\n      created_at: new Date()\n    };\n    this.edit = false;\n    this.cont = \"\";\n    this.tit = \"\";\n    this.datoscoment = [];\n    this.usuarios = localStorage.getItem(\"usuarioensesion\");\n  }\n\n  ngOnInit() {\n    this.userService.traercoment().subscribe(res => console.log(res), err => console.log(err));\n    const params = this.activatedRoute.snapshot.params;\n  }\n\n  nuevocoment() {\n    delete this.user.created_at;\n    delete this.user.id;\n    console.log(this.user);\n    this.userService.nuevocoment(this.user).subscribe(res => {\n      console.log(res);\n    });\n  }\n\n  obtenercoment() {\n    var _this = this;\n\n    this.datoscoment = [];\n    this.userService.traercoment().subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        let valores = res;\n        _this.datoscoment = valores;\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), err => console.log(err));\n  }\n\n}\n\nPublicacionesComponent.ɵfac = function PublicacionesComponent_Factory(t) {\n  return new (t || PublicacionesComponent)(i0.ɵɵdirectiveInject(i1.UsersService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nPublicacionesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PublicacionesComponent,\n  selectors: [[\"app-publicaciones\"]],\n  hostVars: 2,\n  hostBindings: function PublicacionesComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵclassMap(ctx.classes);\n    }\n  },\n  decls: 24,\n  vars: 4,\n  consts: [[1, \"ms-auto\"], [1, \"text-center\"], [1, \"mb-3\"], [\"for\", \"exampleFormControlInput1\", 1, \"form-label\"], [\"type\", \"titulo\", \"id\", \"exampleFormControlInput1\", \"placeholder\", \"Escribe el nombre del curso\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"titulo\", \"id\", \"exampleFormControlInput1\", \"placeholder\", \"Escribe el nombre del catedratico\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"exampleFormControlTextarea1\", 1, \"form-label\"], [\"type\", \"contenido\", \"id\", \"exampleFormControlTextarea1\", \"rows\", \"3\", \"placeholder\", \"Escribe algo acerca del curso o catedratico\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-dark\", 3, \"click\"]],\n  template: function PublicacionesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-nav\")(1, \"br\");\n      i0.ɵɵelementStart(2, \"ul\", 0);\n      i0.ɵɵelement(3, \"br\");\n      i0.ɵɵelementStart(4, \"label\");\n      i0.ɵɵtext(5, \"Conectado:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"h4\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"h1\", 1);\n      i0.ɵɵtext(9, \"Publicaciones\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 3);\n      i0.ɵɵtext(12, \"Nombre Curso\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function PublicacionesComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.user.titulo = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 2)(15, \"label\", 3);\n      i0.ɵɵtext(16, \"Nombre Catedratico\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function PublicacionesComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.user.titulo = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 2)(19, \"label\", 6);\n      i0.ɵɵtext(20, \"Contenido de la publicaci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"textarea\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function PublicacionesComponent_Template_textarea_ngModelChange_21_listener($event) {\n        return ctx.user.contenido = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function PublicacionesComponent_Template_button_click_22_listener() {\n        return ctx.nuevocoment();\n      });\n      i0.ɵɵtext(23, \" Publicar\\n\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.usuarios);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.titulo);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.titulo);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.contenido);\n    }\n  },\n  dependencies: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NavComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwdWJsaWNhY2lvbmVzLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;AAUA,OAAM,MAAOA,sBAAP,CAA6B;EAWjCC,YAAoBC,WAApB,EAAuDC,MAAvD,EAA+EC,cAA/E,EAA6G;IAAzF;IAAmC;IAAwB;IATzD,eAAU,KAAV;IAEtB,YAAqB;MACnBC,MAAM,EAAE,EADW;MAEnBC,SAAS,EAAE,EAFQ;MAGnBC,UAAU,EAAE,IAAIC,IAAJ;IAHO,CAArB;IAKA,YAAgB,KAAhB;IAGA,YAAK,EAAL;IACA,WAAI,EAAJ;IACA,mBAAsB,EAAtB;IACA,gBAAUC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAV;EAJkH;;EAKlHC,QAAQ;IACN,KAAKT,WAAL,CAAiBU,WAAjB,GAA+BC,SAA/B,CACEC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CADT,EAEEG,GAAG,IAAIF,OAAO,CAACC,GAAR,CAAYC,GAAZ,CAFT;IAKA,MAAMC,MAAM,GAAG,KAAKd,cAAL,CAAoBe,QAApB,CAA6BD,MAA5C;EACD;;EACDE,WAAW;IACT,OAAO,KAAKC,IAAL,CAAUd,UAAjB;IACA,OAAO,KAAKc,IAAL,CAAUC,EAAjB;IACAP,OAAO,CAACC,GAAR,CAAY,KAAKK,IAAjB;IACA,KAAKnB,WAAL,CAAiBkB,WAAjB,CAA6B,KAAKC,IAAlC,EACER,SADF,CAEEC,GAAG,IAAG;MACJC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAJH;EAMD;;EACDS,aAAa;IAAA;;IACX,KAAKC,WAAL,GAAiB,EAAjB;IACA,KAAKtB,WAAL,CAAiBU,WAAjB,GAA+BC,SAA/B;MAAA,6BAAyC,WAAOC,GAAP,EAAkB;QACzD,IAAIW,OAAO,GAAQX,GAAnB;QACA,KAAI,CAACU,WAAL,GAAiBC,OAAjB;MACD,CAHD;;MAAA;QAAA;MAAA;IAAA,KAIER,GAAG,IAAIF,OAAO,CAACC,GAAR,CAAYC,GAAZ,CAJT;EAKD;;AA1CgC;;;mBAAtBjB,wBAAsB0B;AAAA;;;QAAtB1B;EAAsB2B;EAAAC;EAAAC;IAAA;;;;;;;;;MCVnCH,2BAAmB,CAAnB,EAAmB,IAAnB;MAEAA;MACIA;MACAA;MAAOA;MAAUA;MACjBA;MAAIA;MAAcA;MAEtBA;MAAwBA;MAAaA;MACrCA,gCAAkB,EAAlB,EAAkB,OAAlB,EAAkB,CAAlB;MAESA;MAAYA;MAEjBA;MACIA;QAAA;MAAA;MADJA;MAQJA,gCAAkB,EAAlB,EAAkB,OAAlB,EAAkB,CAAlB;MAESA;MAAkBA;MAEvBA;MACIA;QAAA;MAAA;MADJA;MAQJA,gCAAkB,EAAlB,EAAkB,OAAlB,EAAkB,CAAlB;MAESA;MAA2BA;MAEhCA;MACIA;QAAA;MAAA;MAMHA;MAELA;MAA2CA;QAAA,OAASI,iBAAT;MAAsB,CAAtB;MACvCJ;MACJA;;;;MA1CQA;MAAAA;MAQAA;MAAAA;MAYAA;MAAAA;MAYAA;MAAAA","names":["PublicacionesComponent","constructor","userService","router","activatedRoute","titulo","contenido","created_at","Date","localStorage","getItem","ngOnInit","traercoment","subscribe","res","console","log","err","params","snapshot","nuevocoment","user","id","obtenercoment","datoscoment","valores","i0","selectors","hostVars","hostBindings","ctx"],"sourceRoot":"","sources":["C:\\Users\\juanj\\OneDrive\\Escritorio\\P4\\client\\src\\app\\components\\publicaciones\\publicaciones.component.ts","C:\\Users\\juanj\\OneDrive\\Escritorio\\P4\\client\\src\\app\\components\\publicaciones\\publicaciones.component.html"],"sourcesContent":["import { Component, HostBinding, OnInit } from '@angular/core';\r\nimport { nuevoc,coment } from 'src/app/models/Users';\r\nimport {UsersService} from '../../services/users.service';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-publicaciones',\r\n  templateUrl: './publicaciones.component.html',\r\n  styleUrls: ['./publicaciones.component.css']\r\n})\r\nexport class PublicacionesComponent implements OnInit {\r\n\r\n  @HostBinding('class') classes = 'row';\r\n\r\n  user: nuevoc | any = {          //CAMBIAR VALORES \r\n    titulo: '',\r\n    contenido: '',\r\n    created_at: new Date()\r\n  };\r\n  edit: boolean = false;\r\n\r\n  constructor(private userService: UsersService, private router: Router, private activatedRoute: ActivatedRoute) { }\r\n  cont=\"\"\r\n  tit=\"\"\r\n  datoscoment: coment[]=[];\r\n  usuarios= localStorage.getItem(\"usuarioensesion\");\r\n  ngOnInit(): void {\r\n    this.userService.traercoment().subscribe(\r\n      res => console.log(res),\r\n      err => console.log(err)\r\n    );\r\n\r\n    const params = this.activatedRoute.snapshot.params;\r\n  }\r\n  nuevocoment(){                                \r\n    delete this.user.created_at;\r\n    delete this.user.id;\r\n    console.log(this.user)\r\n    this.userService.nuevocoment(this.user)      \r\n     .subscribe(\r\n      res => {\r\n        console.log(res);       \r\n      },\r\n     )\r\n  };\r\n  obtenercoment(){\r\n    this.datoscoment=[];\r\n    this.userService.traercoment().subscribe(async (res:any) =>{\r\n      let valores: any = res;\r\n      this.datoscoment=valores\r\n    },\r\n      err => console.log(err));\r\n  }\r\n  \r\n\r\n}\r\n","<app-nav></app-nav>\r\n<br />\r\n<ul class=\"ms-auto\">\r\n    <br />\r\n    <label>Conectado:</label>\r\n    <h4>{{ usuarios }}</h4>\r\n</ul>\r\n<h1 class=\"text-center\">Publicaciones</h1>\r\n<div class=\"mb-3\">\r\n    <label for=\"exampleFormControlInput1\" class=\"form-label\"\r\n        >Nombre Curso</label\r\n    >\r\n    <input\r\n        [(ngModel)]=\"user.titulo\"\r\n        type=\"titulo\"\r\n        class=\"form-control\"\r\n        id=\"exampleFormControlInput1\"\r\n        placeholder=\"Escribe el nombre del curso\"\r\n    />\r\n</div>\r\n<div class=\"mb-3\">\r\n    <label for=\"exampleFormControlInput1\" class=\"form-label\"\r\n        >Nombre Catedratico</label\r\n    >\r\n    <input\r\n        [(ngModel)]=\"user.titulo\"\r\n        type=\"titulo\"\r\n        class=\"form-control\"\r\n        id=\"exampleFormControlInput1\"\r\n        placeholder=\"Escribe el nombre del catedratico\"\r\n    />\r\n</div>\r\n<div class=\"mb-3\">\r\n    <label for=\"exampleFormControlTextarea1\" class=\"form-label\"\r\n        >Contenido de la publicación</label\r\n    >\r\n    <textarea\r\n        [(ngModel)]=\"user.contenido\"\r\n        type=\"contenido\"\r\n        class=\"form-control\"\r\n        id=\"exampleFormControlTextarea1\"\r\n        rows=\"3\"\r\n        placeholder=\"Escribe algo acerca del curso o catedratico\"\r\n    ></textarea>\r\n</div>\r\n<button type=\"button\" class=\"btn btn-dark\" (click)=\"nuevocoment()\">\r\n    Publicar\r\n</button>\r\n"]},"metadata":{},"sourceType":"module"}